<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                template="../WEB-INF/template/template_v1.xhtml">

    <ui:define name="page_title">#{messages['jsf.PageTitle']}</ui:define>
    <ui:define name="center_content">
	    <s:fragment rendered="#{identity.loggedIn}">
		<div class="g">
			<div class="g__item w--1-2 l--push-v-1">
			    <div class="l--float-left w--2-6-s l--push-right-1">
				    <div class="media--circle">
				    	<s:link id="profile" view="/profile/view.xhtml" propagation="none">
							<img src="#{dashboardAction.getUserImageUrl()}" alt="#{dashboardAction.getUsername()}"/>
						</s:link>
				    </div>
			    </div>
							
			    <div class="txt--s-align-right">
			    	<h1 class="delta">#{dashboardAction.getUserFullName()}</h1>
			      	<ul class="list--no-bullets">
			        	<li>#{dashboardAction.getUsername()}</li>
			        	<li>
			        		<s:link id="profile" view="/profile/view.xhtml" propagation="none">
			        			#{messages['jsf.Settings']} <i aria-hidden="true" class="i i--cog"></i>
			        		</s:link>
			        	</li>
			      	</ul>
			    </div>
			</div>
		</div>
		
		<div class="g">
			<div class="g__item l--push-v-1 w--1-2 w--4-10-h">
				<div class="l--push-left-half">
			      <h2 class="heading--secondary">#{messages['jsf.YourActivity']}</h2>
			    </div>
			    <ul class="list--no-bullets">
			    	
				</ul>
			</div>
			
			<div class="g__item w--1-2 w--6-10-h">
				<div class="g">
					<div class="g__item w--1-2-h l--push-v-1">
						<div class="bg--pop-high">
							<div class="tabs--accent">
								<header class="bg--pop-higher l--pad-all-half">
					             	<div class="g--tight">
					                	<div class="g__item w--6-10 w--6-10-s">
					                  		<h2 class="delta heading--secondary">#{messages['jsf.MaintainedProjects']}</h2>
					                	</div>
					                	<div class="g__item w--4-10 w--4-10-s txt--align-right txt--s-align-right">
					                  		<span class="txt--meta">#{dashboardAction.getUserMaintainedProjectsSize()}
					                  			<i aria-hidden="true" class="i i--clipboard"></i>
					                  		</span>
					                	</div>
					            	</div>
					            </header>
					            <ul class="list--no-bullets">
						            <ui:repeat value="#{dashboardAction.getUserMaintainedProjects()}" var="project">
									    <li class="bg--faint l--pad-top-half bg--highest--hover progress-bar__expander dropdown__container">
									    	<div class="g--tight l--pad-h-half">
							                	<div class="g__item w--3-4 w--3-4-s">
							                    	<h3 class="epsilon">
							                    		<s:link id="project" styleClass="table_link" value="#{project.name} " propagation="none"
					                                		view="/project/project.xhtml">
					                            			<f:param name="slug" value="#{project.slug}"/>
	 				                        			</s:link>
							                    	</h3>
							                  	</div>
							                  	<div class="g__item w--1-4 w--1-4-s txt--align-right txt--s-align-right">
							                    	<ul class=" list--horizontal">
							                      		<li>
							                        		<span class="txt--meta">
							                        			<i aria-hidden="true" class="i i--network"></i>
							                        			<span class="is-invisible">#{messages['jsf.Translator']}</span>
							                        		</span>
							                      		</li>
							                      		<li>
							                        		<span class="txt--meta">
							                        			<i aria-hidden="true" class="i i--pencil"></i>
							                        			<span class="is-invisible">#{messages['jsf.Maintainer']}</span>
							                        		</span>
							                      		</li>
							                    	</ul>
							                	</div>
							                </div>
							                <div class="l--pad-h-half l--pad-bottom-half">
							                	<div class="dropdown" ng-class="{is-active: is-active}">
							                		<div class="dropdown__toggle" href="#" ng-click="is-active=!is-active">
							                			<i class="i i--arrow-down dropdown__toggle__icon"></i>
							                			<ui:param name="latestVersion" value="#{dashboardAction.getLatestVersion(project.id)}"/>
							                			<ul class="dropdown__toggle__content list--horizontal ">
									                    	<li>
										                        <s:link view="/iteration/view.xhtml" title="#{latestVersion.slug}">
												                 	<f:param name="projectSlug" value="#{project.slug}"/>
												                	<f:param name="iterationSlug" value="#{latestVersion.slug}"/>
												                	<i aria-hidden="true" class="i i--star-2"></i>
										                            <span class="is-invisible">#{messages['jsf.Version']}</span> #{latestVersion.slug}
												                </s:link>
									                        </li>
									                        <li>
									                        	<a href="#" title="#{dashboardAction.getDocumentCount(latestVersion.id)} #{messages['jsf.Documents']}">
									                        		<i aria-hidden="true" class="i i--document-alt-fill"></i>
									                        		<span class="is-invisible">#{messages['jsf.Documents']}</span> #{dashboardAction.getDocumentCount(latestVersion.id)}
									                        	</a>
									                        </li>
									                        <li>
									                        	<a href="#" title="#{dashboardAction.getEnabledLocalesCount(latestVersion.id)} #{messages['jsf.Languages']}">
									                        		<i aria-hidden="true" class="i i--globe"></i>
									                        		<span class="is-invisible">#{messages['jsf.Languages']}</span> #{dashboardAction.getEnabledLocalesCount(latestVersion.id)}
									                        	</a>
									                        </li>
									                        <li>
									                        	<a href="#" title="Go to Japanese translation">JP</a>
									                        </li>
									                        <li class="l--float-right">
									                        	<span class="txt--state-success">73%</span>
									                        </li>
									                	</ul>
							                		</div>
							                	</div>
							                </div>
									    </li>
									</ui:repeat>
					            </ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	    </s:fragment>
    </ui:define>
</ui:composition>
